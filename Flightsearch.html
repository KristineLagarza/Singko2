<!DOCTYPE html>
<html>
<head>
  <title>Flight Information</title>
  <link rel="stylesheet" href="Style/style.css">
  <title>Search Dates Without Flights</title>
</head>
<body>
  <!-- Navigation Bar -->
  <div class="navigation">
    <nav>
        <input type="checkbox" id="show-search">
        <input type="checkbox" id="show-menu">
        <div class="content">
            <div class="logo"><a href="#">SINGKO</a></div>
            <ul class="links">
                <li><a href="index.html">Home</a></li>
                <li><a href="../Singko2/Destination/about.html">About</a></li>
                <li><a href="destination.html">Destination</a></li>
                <li><a href="contact.html">Contact</a></li>
                <li><a href="Flightsearch.html">Available Flights</a></li>
            </ul>
        </div>
    </nav>
</div>

<!-- Landing Page -->
<div class="landing">
    <!-- Slideshow Container -->
    <div class="slideshow-container-index">
        <img src="Images/siar.jpg" class="mySlide" />
        <img src="Images/siar-head.jpg" class="mySlide" />
        <img src="Images/cloud9.jpg" class="mySlide" />
        <img src="Images/nakedisland.jpg" class="mySlide" />
        <img src="Images/sugba.jpg" class="mySlide" />
        <img src="Images/sohotoon.jpg" class="mySlide" />
        <img src="Images/guyam.jpg" class="mySlide" />
        <img src="Images/daku.jpg" class="mySlide" />
        <img src="Images/pacifico.jpg" class="mySlide" />
        <img src="Images/rockpools.jpg" class="mySlide" />
        <img src="Images/secret.jpg" class="mySlide" />
        <img src="Images/taktak.jpg" class="mySlide" />
        <img src="Images/alegria.jpg" class="mySlide" />
        <img src="Images/blue.jpg" class="mySlide" />
        <img src="Images/cave.jpg" class="mySlide" />
        <img src="Images/corre.jpg" class="mySlide" />
        <!-- Add more images as needed -->
    </div>
    <h1>Search Available Flights</h1>
    <h2>Explore the beautiful sceneries Siargao has to offer!</h2><br>
        <!-- Form for user input -->
    <form id="userInputForm">
        <label for="departureDate">Departure Date:</label>
        <input type="date" id="departureDate" required><br>
        
        <button type="button" id="submitButton">Submit</button>
    </form>

    <div id="flights-container">
        <!-- Flight details will be inserted here by JavaScript -->
    </div>
  <!-- <br>
  <button id="buttonF" onclick="searchDatesWithoutFlights()">Search Dates Without Flights</button>
  <div id="result"></div>  

        <br>
    </form> -->
</div>
</body>
<script src="JavaScript/flights.js"></script>
<script>
function searchDatesWithoutFlights() {
    // Load XML data from flights.xml
    var xhttp = new XMLHttpRequest();
        xhttp.open("GET", "flights.xml", true);
        xhttp.send();

    xhttp.onreadystatechange = function() {
        if (this.readyState == 4 && this.status == 200) {
            // Parse XML data
            var xmlDoc = this.responseXML;

            // Get all unique dates from the XML data
            var datesWithFlights = Array.from(xmlDoc.querySelectorAll("Flight")).map(flight => flight.getAttribute("Date"));
            var uniqueDatesWithFlights = [...new Set(datesWithFlights)];

            // Get all dates within a specific range (modify this according to your requirement)
            var startDate = new Date("2023-01-01");
            var endDate = new Date("2023-12-31");
            var allDatesInRange = [];

            for (var currentDate = startDate; currentDate <= endDate; currentDate.setDate(currentDate.getDate() + 1)) {
                allDatesInRange.push(currentDate.toISOString().split("T")[0]);
            }

            // Find dates without flights
            var datesWithoutFlights = allDatesInRange.filter(date => !uniqueDatesWithFlights.includes(date));

            // Display the result
            var resultDiv = document.getElementById("result");
            resultDiv.innerHTML = "Dates without flights: " + datesWithoutFlights.join(", ");
        }
    };
    xhttp.open("GET", "flights.xml", true);
    xhttp.send();
}

    </script>
</html>
